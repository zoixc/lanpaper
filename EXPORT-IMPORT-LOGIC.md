# –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö Lanpaper

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Lanpaper. **–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å**: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å—Å—ã–ª–∫–∞—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, **—Å–∞–º–∏ —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ JSON.

---

## üóÇÔ∏è –ß—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è?

### 1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (`settings`)
```json
{
  "lang": "ru",           // –í—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  "theme": "dark",        // –¢–µ–º–∞: "light" –∏–ª–∏ "dark"
  "viewMode": "grid",     // –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: "grid" –∏–ª–∏ "list"
  "sortBy": "date_desc"   // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: "name_asc", "name_desc", "date_desc", "date_asc"
}
```

### 2. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–æ–∫** (`wallpapers`)
```json
[
  {
    "linkName": "example",                    // ID —Å—Å—ã–ª–∫–∏
    "hasImage": true,                         // –ï—Å—Ç—å –ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    "imagePath": "uploads/example.jpg",      // –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π)
    "imageUrl": "/example",                   // URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
    "previewPath": "uploads/preview_example.jpg", // –ü—É—Ç—å –∫ –ø—Ä–µ–≤—å—é
    "mimeType": "image/jpeg",                // MIME-—Ç–∏–ø —Ñ–∞–π–ª–∞
    "sizeBytes": 245680,                      // –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö
    "createdAt": 1709089234                   // Unix timestamp —Å–æ–∑–¥–∞–Ω–∏—è
  }
]
```

### 3. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∞**
```json
{
  "version": "1.0.0",                         // –í–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
  "exportDate": "2026-02-25T15:30:00.000Z"   // –î–∞—Ç–∞/–≤—Ä–µ–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (ISO 8601)
}
```

---

## ‚ö†Ô∏è –ß—Ç–æ –ù–ï —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è?

### ‚ùå –§–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ

**–°–∞–º–∏ —Ñ–∞–π–ª—ã –ù–ï –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ JSON-—ç–∫—Å–ø–æ—Ä—Ç –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:**

1. **–†–∞–∑–º–µ—Ä**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Base64 —É–≤–µ–ª–∏—á–∏–ª–∏ –±—ã —Ä–∞–∑–º–µ—Ä JSON –≤ 4-6 —Ä–∞–∑
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö JSON —Ñ–∞–π–ª–æ–≤ –∑–∞–º–µ–¥–ª–∏–ª–∞ –±—ã –±—Ä–∞—É–∑–µ—Ä
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ë–î

**–í–∞–∂–Ω–æ**: –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è —Å –¥–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (backend –ª–æ–≥–∏–∫–∞ –≤ `app.py`).

### –ü—Ä–∏–º–µ—Ä: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏

```python
# –í app.py –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–∫–∏:
@app.route('/api/link/<link_name>', methods=['DELETE'])
def delete_link(link_name):
    # 1. –£–¥–∞–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –∏–∑ –ë–î
    db.delete_link(link_name)
    
    # 2. –£–¥–∞–ª—è—é—Ç—Å—è —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞
    if link.imagePath:
        os.remove(link.imagePath)      # –û—Ä–∏–≥–∏–Ω–∞–ª
    if link.previewPath:
        os.remove(link.previewPath)    # –ü—Ä–µ–≤—å—é
```

---

## üì§ –õ–æ–≥–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç?

- –ü–µ—Ä–µ–¥ –ø–µ—Ä–µ–µ–∑–¥–æ–º –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏
- –ü–µ—Ä–µ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è)

### –ü—Ä–æ—Ü–µ—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–∞:

```javascript
function exportData() {
    // 1. –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ STATE –∏ localStorage
    const exportData = {
        version: '1.0.0',
        exportDate: new Date().toISOString(),
        settings: { /* –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */ },
        wallpapers: STATE.wallpapers  // –¢–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ!
    };
    
    // 2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ JSON
    const dataStr = JSON.stringify(exportData, null, 2);
    
    // 3. –°–æ–∑–¥–∞–µ–º Blob –∏ —Å–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
    const blob = new Blob([dataStr], { type: 'application/json' });
    const filename = `lanpaper-backup-${date}.json`;
    // ... download logic
}
```

### –ü—Ä–∏–º–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

**`lanpaper-backup-2026-02-25.json`**
```json
{
  "version": "1.0.0",
  "exportDate": "2026-02-25T15:30:00.000Z",
  "settings": {
    "lang": "ru",
    "theme": "dark",
    "viewMode": "grid",
    "sortBy": "date_desc"
  },
  "wallpapers": [
    {
      "linkName": "sunset",
      "hasImage": true,
      "imagePath": "uploads/sunset_20260225_153000.jpg",
      "imageUrl": "/sunset",
      "previewPath": "uploads/preview_sunset.jpg",
      "mimeType": "image/jpeg",
      "sizeBytes": 1245680,
      "createdAt": 1709089234
    },
    {
      "linkName": "demo",
      "hasImage": false,
      "imagePath": null,
      "imageUrl": null,
      "previewPath": null,
      "mimeType": null,
      "sizeBytes": 0,
      "createdAt": 1709089100
    }
  ]
}
```

---

## üì• –õ–æ–≥–∏–∫–∞ –∏–º–ø–æ—Ä—Ç–∞

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç?

- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è
- –ü–µ—Ä–µ–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. **–§–∞–π–ª—ã –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è**: –ò–º–ø–æ—Ä—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫, –Ω–æ –Ω–µ —Å–∞–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. **–ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö**: –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ STATE –∑–∞–º–µ–Ω—è—é—Ç—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
3. **–§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å**: –ï—Å–ª–∏ –≤ JSON —É–∫–∞–∑–∞–Ω `imagePath`, —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞:

```javascript
async function importData(file) {
    // 1. –ß–∏—Ç–∞–µ–º –∏ –ø–∞—Ä—Å–∏–º JSON
    const text = await file.text();
    const data = JSON.parse(text);
    
    // 2. –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!data.wallpapers || !Array.isArray(data.wallpapers)) {
        throw new Error('Invalid data format');
    }
    
    // 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    if (!confirm(`Import ${count} links? This will replace current data.`)) {
        return;
    }
    
    // 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    if (data.settings.lang) await setLanguage(data.settings.lang);
    if (data.settings.theme) applyTheme(data.settings.theme);
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    
    // 5. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫ (—Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö!)
    STATE.wallpapers = data.wallpapers;
    filterAndSort();
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞?

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
```
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ UI –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (—è–∑—ã–∫, —Ç–µ–º–∞, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
2. –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
3. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí –ø—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
4. –ï—Å–ª–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "No image"
```

#### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
```
1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω JSON —Å –ø—É—Ç—è–º–∏ –∫ —Ñ–∞–π–ª–∞–º
2. –§–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä)
3. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏, –Ω–æ –ø—Ä–µ–≤—å—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
4. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É ‚Üí 404
```

---

## üîÑ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞**: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏

```bash
# 1. –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ UI
–ù–∞–∂–∞—Ç—å Export ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è lanpaper-backup-2026-02-25.json

# 2. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
# –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫–∏, –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# 3. –û—Ç–∫–∞—Ç
–ù–∞–∂–∞—Ç—å Import ‚Üí –≤—ã–±—Ä–∞—Ç—å lanpaper-backup-2026-02-25.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ UI –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –§–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ç.–∫. –æ–Ω–∏ –Ω–∞ –¥–∏—Å–∫–µ).

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

**–ó–∞–¥–∞—á–∞**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ Lanpaper –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ —Å—Ç–∞—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
1. Export JSON —á–µ—Ä–µ–∑ UI
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É uploads/:
   scp -r uploads/ user@newserver:/path/to/lanpaper/
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ë–î (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):
   scp wallpapers.db user@newserver:/path/to/lanpaper/

# –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å Lanpaper
5. Import JSON —á–µ—Ä–µ–∑ UI
```

**–í–∞–∂–Ω–æ**: 
- –ë–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è `uploads/` –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –≤ JSON –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ, –ø–æ—ç—Ç–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

**–ó–∞–¥–∞—á–∞**: –£ –≤–∞—Å –¥–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞, –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –°–µ—Ä–≤–µ—Ä A:
1. Export ‚Üí lanpaper-backup.json

# –°–µ—Ä–≤–µ—Ä B:
2. Import ‚Üí lanpaper-backup.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ UI —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚ùå –§–∞–π–ª—ã –ù–ï —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ)

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**–í–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞**: `1.0.0`

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ–ª–µ `version` –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

```javascript
// –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
- data.wallpapers (array)

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:
- data.settings (object)
- data.version (string)
- data.exportDate (string)

// –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–∏:
- linkName (string, required)
- hasImage (boolean, required)
- –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **XSS –∑–∞—â–∏—Ç–∞**: JSON –ø–∞—Ä—Å–∏—Ç—Å—è —á–µ—Ä–µ–∑ `JSON.parse()`, –Ω–µ —á–µ—Ä–µ–∑ `eval()`
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
3. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö
4. **–ò–∑–æ–ª—è—Ü–∏—è**: –ò–º–ø–æ—Ä—Ç –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Å–µ—Ä–≤–µ—Ä–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä JSON**: ~10 MB (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è Blob)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫**: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞–º—è—Ç–∏)
- **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å**: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞

---

## üìä –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

### –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```
lanpaper/
‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îú‚îÄ‚îÄ sunset.jpg (1.2 MB)
‚îÇ   ‚îú‚îÄ‚îÄ preview_sunset.jpg (50 KB)
‚îÇ   ‚îî‚îÄ‚îÄ demo.png (800 KB)
‚îú‚îÄ‚îÄ wallpapers.db
‚îî‚îÄ‚îÄ app.py

–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –≤ –ë–î:
- sunset ‚Üí uploads/sunset.jpg
- demo ‚Üí uploads/demo.png
- test ‚Üí (–Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
```

### 1. –≠–∫—Å–ø–æ—Ä—Ç:
```bash
–ù–∞–∂–∞—Ç—å Export ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è lanpaper-backup-2026-02-25.json (3 KB)
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ JSON**:
```json
{
  "wallpapers": [
    {"linkName": "sunset", "imagePath": "uploads/sunset.jpg", ...},
    {"linkName": "demo", "imagePath": "uploads/demo.png", ...},
    {"linkName": "test", "hasImage": false, ...}
  ]
}
```

### 2. –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```bash
–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ UI ‚Üí —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è —Å –¥–∏—Å–∫–∞

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è:
lanpaper/
‚îú‚îÄ‚îÄ uploads/ (–ø—É—Å—Ç–∞—è)
‚îú‚îÄ‚îÄ wallpapers.db (–ø—É—Å—Ç–∞—è)
‚îî‚îÄ‚îÄ app.py
```

### 3. –ò–º–ø–æ—Ä—Ç JSON:
```bash
–ù–∞–∂–∞—Ç—å Import ‚Üí –≤—ã–±—Ä–∞—Ç—å lanpaper-backup-2026-02-25.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
```
‚úÖ –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ UI
‚ùå –§–∞–π–ª—ã –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (uploads/ –ø—É—Å—Ç–∞—è)

–°—Ç–∞—Ç—É—Å —Å—Å—ã–ª–æ–∫:
- sunset ‚Üí 404 (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)
- demo ‚Üí 404 (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)  
- test ‚Üí OK (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª)
```

### 4. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
# –®–∞–≥ 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ backup
cp -r /backup/uploads/* uploads/

# –®–∞–≥ 2: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON
–ù–∞–∂–∞—Ç—å Import ‚Üí –≤—ã–±—Ä–∞—Ç—å JSON

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –í—Å–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ –ü—Ä–µ–≤—å—é –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
‚úÖ –§–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
```

---

## üéØ –í—ã–≤–æ–¥—ã

### –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç Export/Import:
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ UI (—è–∑—ã–∫, —Ç–µ–º–∞, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)  
‚úÖ –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –∏ –∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ  
‚úÖ –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ)  

### –ß—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç Export/Import:
‚ùå –°–∞–º–∏ —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/–≤–∏–¥–µ–æ  
‚ùå –§–∞–π–ª—ã –Ω–∞ –¥–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞  
‚ùå –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é  

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ backup –Ω—É–∂–Ω–æ:
1. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON** —á–µ—Ä–µ–∑ UI
2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É `uploads/`** –≤—Ä—É—á–Ω—É—é
3. *(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)* –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `wallpapers.db`

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ restore –Ω—É–∂–Ω–æ:
1. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–ø–∫—É `uploads/`** –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
2. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON** —á–µ—Ä–µ–∑ UI
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —Å–æ–≤–ø–∞–¥–∞—é—Ç

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `static/js/export-import.js` - –ª–æ–≥–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞
- `static/js/app.js` - STATE –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `app.py` - backend API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
- `admin.html` - UI —Å –∫–Ω–æ–ø–∫–∞–º–∏ Export/Import

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 25 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è**: 1.0.0
